[editor.cursor-shape]
insert = "bar" # use bar cursor in insert mode like vim

# Custom COLEMAK-DHm based keybindings for helix.

# Commented out keys indicate keys that are not remapped. They are copied from
# the Rust source.

[keys.normal]
j	= "no_op" # "j" | "down" => move_visual_line_down,
# k	= "no_op" # "k" | "up" => move_visual_line_up,
R = "no_op" # "R" => replace_with_yanked,
N = "no_op" # "N" => search_prev,
E = "no_op" # "E" => move_next_long_word_end,

m = "move_char_left"
n = "move_visual_line_down"
e = "move_visual_line_up"
i = "move_char_right"

M   = "goto_line_start"
I   = "goto_line_end"
"^" = "goto_first_nonwhitespace"
"$" = "goto_line_end"

# "t" => find_till_char,
# "T" => till_prev_char,

# new mnemonic: s/S = search
s = "find_next_char"
S = "find_prev_char"

# new mnemonic: revise
v = "replace"
V = "replace_with_yanked"
# "A-." =>  repeat_last_motion,

# "~" => switch_case,
# "`" => switch_to_lowercase,
# "A-`" => switch_to_uppercase,

# "home" => goto_line_start,
# "end" => goto_line_end,

# "w" => move_next_word_start,
# "W" => move_next_long_word_start,

# "b" => move_prev_word_start,
# "B" => move_prev_long_word_start,

# new mnemonic: f/F = far word/WORD
f = "move_next_word_end"
F = "move_next_long_word_end"

# new mnemonic: r/R = range
r = "select_mode"
l = "insert_mode"
L = "insert_at_line_start"
# "a" => append_mode,
# "A" => insert_at_line_end,
# "o" => open_below,
# "O" => open_above,
# "G" => goto_line,
# ":" => command_mode,

# "d" => delete_selection,
# "A-d" => delete_selection_noyank,
# "c" => change_selection,
# "A-c" => change_selection_noyank,

# "C" => copy_selection_on_next_line,
# "A-C" => copy_selection_on_prev_line,

# "s" => select_regex,    -- rebind to -- GOTO mode
# "S" => split_selection, -- rebind to -- GOTO mode

# TODO rebind these no_ops
A-s = "no_op" # "A-s" => split_selection_on_newline,
A-minus = "no_op" # "A-minus" => merge_selections,
A-_ = "no_op" # "A-_" => merge_consecutive_selections,
# ";" => collapse_selection,
# "A-;" => flip_selections,
A-o = "no_op" # "A-o" | "A-up" => expand_selection,
A-i = "no_op" # "A-i" | "A-down" => shrink_selection,
A-I = "no_op" # "A-I" | "A-S-down" => select_all_children,
A-p = "no_op" # "A-p" | "A-left" => select_prev_sibling,
A-n = "no_op" # "A-n" | "A-right" => select_next_sibling,
A-e = "no_op" # "A-e" => move_parent_node_end,
A-b = "no_op" # "A-b" => move_parent_node_start,
A-a = "no_op" # "A-a" => select_all_siblings,

# "%" => select_all,
# "x" => extend_line_below,
# "X" => extend_to_line_bounds,
# "A-x" => shrink_to_line_bounds,

# "/" => search,
# "?" => rsearch,
h	= "search_next"
H	= "search_prev"
# "*" => search_selection,

# "u" => undo,
# "U" => redo,
# "A-u" => earlier,
# "A-U" => later,

# "y" => yank,
# "p" => paste_after,
# "P" => paste_before,

# "Q" => record_macro,
# "q" => replay_macro,

# ">" => indent,
# "<" => unindent,
# "=" => format_selections,
# "J" => join_selections,
# "A-J" => join_selections_space,
# "K" => keep_selections,
# "A-K" => remove_selections,

# "," => keep_primary_selection,
# "A-," => remove_primary_selection,

# "&" => align_selections,
# "_" => trim_selections,

# "(" => rotate_selections_backward,
# ")" => rotate_selections_forward,
# "A-(" => rotate_selection_contents_backward,
# "A-)" => rotate_selection_contents_forward,

# "A-:" => ensure_selections_forward,

# "esc" => normal_mode,
# "C-b" | "pageup" => page_up,
# "C-f" | "pagedown" => page_down,
# "C-u" => page_cursor_half_up,
# "C-d" => page_cursor_half_down,

# GOTO mode
[keys.normal.g]
# These are pointless.
k = "no_op" # "k" => move_line_up,
j = "no_op" # "j" => move_line_down,

# These are rebound
h = "no_op" # "h" => goto_line_start,
l = "no_op" # "l" => goto_line_end,
m = "goto_line_start"
i = "goto_line_end"

# "g" => goto_file_start,
# "e" => goto_last_line,
# "f" => goto_file,
# "d" => goto_definition,
# "D" => goto_declaration,
# "y" => goto_type_definition,
# "r" => goto_reference,
I = "goto_implementation"
# "t" => goto_window_top,
# "c" => goto_window_center,
# "b" => goto_window_bottom,
# "a" => goto_last_accessed_file,
M = "goto_last_modified_file"
# "n" => goto_next_buffer,
# "p" => goto_previous_buffer,
# "." => goto_last_modification,
# "w" => goto_word,
s = "select_regex"
S = "split_selection"

# new mnemonic from match mode to:
# Knit mode
[keys.normal.k]
k = "match_brackets"
s = "surround_add"
r = "surround_replace"
d = "surround_delete"
a = "select_textobject_around"
i = "select_textobject_inner"

# Window mode
[keys.normal.C-w]

# "C-w" | "w" => rotate_view,
# "C-s" | "s" => hsplit,
# "C-v" | "v" => vsplit,
# "C-t" | "t" => transpose_view,
# "f" => goto_file_hsplit,
# "F" => goto_file_vsplit,
# "C-q" | "q" => wclose,
# "C-o" | "o" => wonly,
C-k = "wclose" # "C-k" => jump_view_up,
k = "wclose" # "k" => jump_view_up,

C-h = "no_op" # "C-h" => jump_view_left,
C-j = "no_op" # "C-j" => jump_view_down,
C-l = "no_op" # "C-l" => jump_view_right,

h = "no_op" # "h" => jump_view_left,
j = "no_op" # "j" => jump_view_down,
l = "no_op" # "l" => jump_view_right,

L = "no_op" # "L" => swap_view_right,
K = "no_op" # "K" => swap_view_up,
H = "no_op" # "H" => swap_view_left,
J = "no_op" # "J" => swap_view_down,

C-m = "jump_view_left"
C-n = "jump_view_down"
C-e = "jump_view_up"
C-i = "jump_view_right"

m = "jump_view_left"
n = "jump_view_down"
e = "jump_view_up"
i = "jump_view_right"

M = "swap_view_left"
N = "swap_view_down"
E = "swap_view_up"
I = "swap_view_right"

C-b = "vsplit_new"
b = "vsplit_new"
